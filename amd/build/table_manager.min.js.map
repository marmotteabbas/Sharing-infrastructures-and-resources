{"version":3,"sources":["../src/table_manager.js"],"names":["define","$","selected_items","init","click","e","window","event","ctrlKey","attr","Keywords","includes","html","myIndex","indexOf","splice","push","length","css","ajax","method","url","data","datas","done","msg","empty","obj","JSON","parse","rec","substr","lastIndexOf"],"mappings":"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","sourcesContent":["define(['jquery'], function($) {\n    var selected_items = { \"Keywords\" : [] };\n    return {\n        init: function(){ /* eslint-disable no-console  */\n            $(\".cellule_research\").click(function(e) {\n                if (!e) {e = window.event;}\n\n                if (e.ctrlKey) {\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n\n                        if (selected_items.Keywords.includes($(this).html())) {\n                            var myIndex = selected_items.Keywords.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.Keywords.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.Keywords.push($(this).html());\n                        }\n                    }\n\n                } else {\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n                        if (selected_items.Keywords.includes($(this).html()) && selected_items.Keywords.length ==1) {\n                            selected_items.Keywords = [];\n                            selected_items.Keywords.length = 0;\n                        } else {\n                            selected_items.Keywords = [$(this).html()];\n                        }\n                       // selected_items.Keywords = [$(this).html()];\n                    }\n                }\n\n\n              //  console.log(selected_items);\n\n                if ($(this).attr(\"box\") == \"Keywords\") {\n                    if (!e.ctrlKey) {\n                        $(\".cellule_keyword\").css(\"background-color\", \"rgb(68, 162, 272)\");\n                    }\n\n                    if (selected_items.Keywords.length == 0) {\n                        $(\".cellule_keyword\").css(\"background-color\",\"#4472c4\");\n                    } else {\n                        if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                            $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                        } else {\n                            $(this).css(\"background-color\",\"#4472c4\");\n                        }\n                    }\n                }\n\n                var datas  = selected_items;//$(this).html();\n\n                $.ajax({\n                    method: \"POST\",\n                    url: \"ajax_call.php\",\n                    data: {/* box: box,*/ datas: datas }\n                })\n                .done(function( msg ) {\n                    $(\"#table_data\").empty();\n                    /* eslint-disable no-console */\n                        var obj = JSON.parse(msg);\n\n                        for (var rec in obj) {\n                         /*   console.log(obj[rec]);\n                            console.log(obj[rec]['researchinfrastructure']);*/\n                            $(\"#table_data\").html($(\"#table_data\").html()+\"<tr>\"+\n                            \"<td><a href='\"+obj[rec]['researchinfrastructure']+\"'.>\"\n                            +obj[rec]['researchinfrastructure'].substr(\n                            obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")+1,\n                            obj[rec]['researchinfrastructure'].lastIndexOf(\".jpg\")-\n                            obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")-1)+\n                            \"</td>\" +\n                            \"<td>\"+obj[rec]['applicationthemes']+\"</td>\"+\n                            \"<td>\"+obj[rec]['keywords']+\"</td>\"+\n                            \"<td>\"+obj[rec]['homepartnerinstitution']+\"</td>\");\n                         }\n\n                      //  console.log(obj);\n                 // alert( \"Data Saved: \" + msg );\n                });\n            });\n        }\n    };\n});"],"file":"table_manager.min.js"}