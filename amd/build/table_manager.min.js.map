{"version":3,"sources":["../src/table_manager.js"],"names":["define","$","selected_items","perm","ajax_select_call","datas","ajax","method","url","data","mode","done","msg","empty","obj","JSON","parse","rec","content_tab","html","substr","lastIndexOf","trash_event","click","confirm","rec_id","attr","init","permission","e","window","event","ctrlKey","Keywords","includes","myIndex","indexOf","splice","push","applicationthemes","homepartnerinstitution","length","css","box","box_selected_items","each","elemeuh","forEach","element","console","log","progressive_disappear","fadeOut","remove"],"mappings":"AAAAA,OAAM,mCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,IACvBC,CAAAA,CAAc,CAAG,CAAE,SAAa,EAAf,CAAmB,kBAAsB,EAAzC,CAA6C,uBAA2B,EAAxE,CADM,CAEvBC,CAFuB,CAG3B,QAASC,CAAAA,CAAT,CAA0BC,CAA1B,CAAiC,CAC7BJ,CAAC,CAACK,IAAF,CAAO,CACHC,MAAM,CAAE,MADL,CAEHC,GAAG,CAAE,eAFF,CAGHC,IAAI,CAAE,CAACC,IAAI,CAAE,QAAP,CAAiBL,KAAK,CAAEA,CAAxB,CAHH,CAAP,EAKCM,IALD,CAKM,SAAUC,CAAV,CAAgB,CAClBX,CAAC,CAAC,aAAD,CAAD,CAAiBY,KAAjB,GAEI,GAAIC,CAAAA,CAAG,CAAGC,IAAI,CAACC,KAAL,CAAWJ,CAAX,CAAV,CAEA,IAAK,GAAIK,CAAAA,CAAT,GAAgBH,CAAAA,CAAhB,CAAqB,CAEjB,GAAII,CAAAA,CAAW,CAAGjB,CAAC,CAAC,aAAD,CAAD,CAAiBkB,IAAjB,uBACFL,CAAG,CAACG,CAAD,CAAH,uBADE,CACiC,KADjC,CAEjBH,CAAG,CAACG,CAAD,CAAH,wBAAmCG,MAAnC,CACDN,CAAG,CAACG,CAAD,CAAH,wBAAmCI,WAAnC,CAA+C,GAA/C,EAAoD,CADnD,CAEDP,CAAG,CAACG,CAAD,CAAH,wBAAmCI,WAAnC,CAA+C,MAA/C,EACAP,CAAG,CAACG,CAAD,CAAH,wBAAmCI,WAAnC,CAA+C,GAA/C,CADA,CACoD,CAHnD,CAFiB,aAOXP,CAAG,CAACG,CAAD,CAAH,kBAPW,aAQXH,CAAG,CAACG,CAAD,CAAH,SARW,aASXH,CAAG,CAACG,CAAD,CAAH,uBATW,CASwB,OAT1C,CAWA,GAAId,CAAJ,CAAU,CACNe,CAAW,CAAGA,CAAW,CAAG,0CAAd,CAAsDJ,CAAG,CAACG,CAAD,CAAH,GAAtD,CACb,uGACJ,CAEDhB,CAAC,CAAC,aAAD,CAAD,CAAiBkB,IAAjB,CAAsBD,CAAtB,CACF,CACNI,CAAW,EACd,CA/BD,CAgCH,CACD,QAASA,CAAAA,CAAT,EAAuB,CACnBrB,CAAC,CAAC,aAAD,CAAD,CAAiBsB,KAAjB,CAAuB,UAAW,CAC9B,GAAGC,OAAO,CAAC,eAAD,CAAV,CACA,CACI,GAAIC,CAAAA,CAAM,CAAGxB,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,QAAb,CAAb,CACAzB,CAAC,CAACK,IAAF,CAAO,CACHC,MAAM,CAAE,MADL,CAEHC,GAAG,CAAE,eAFF,CAGHC,IAAI,CAAE,CAAEC,IAAI,CAAE,QAAR,CAAkBe,MAAM,CAAEA,CAA1B,CAHH,CAAP,EAKCd,IALD,CAKM,UAAW,CACbP,CAAgB,CAACF,CAAD,CACnB,CAPD,CAQH,CACJ,CAbD,CAeH,CACD,MAAO,CACHyB,IAAI,CAAE,cAASC,CAAT,CAAoB,CACtBzB,CAAI,CAAGyB,CAAP,CACA3B,CAAC,CAAC,mBAAD,CAAD,CAAuBsB,KAAvB,CAA6B,SAASM,CAAT,CAAY,CACrC,GAAI,CAACA,CAAL,CAAQ,CAACA,CAAC,CAAGC,MAAM,CAACC,KAAO,CAC3B,GAAIF,CAAC,CAACG,OAAN,CAAe,CACX,GAA2B,UAAvB,EAAA/B,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAuC,CACnC,GAAIxB,CAAc,CAAC+B,QAAf,CAAwBC,QAAxB,CAAiCjC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAjC,CAAJ,CAAsD,CAClD,GAAIgB,CAAAA,CAAO,CAAGjC,CAAc,CAAC+B,QAAf,CAAwBG,OAAxB,CAAgCnC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAhC,CAAd,CACA,GAAgB,CAAC,CAAb,GAAAgB,CAAJ,CAAoB,CAChBjC,CAAc,CAAC+B,QAAf,CAAwBI,MAAxB,CAA+BF,CAA/B,CAAwC,CAAxC,CACH,CACJ,CALD,IAKO,CACHjC,CAAc,CAAC+B,QAAf,CAAwBK,IAAxB,CAA6BrC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA7B,CACH,CACJ,CAED,GAA2B,mBAAvB,EAAAlB,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAC5C,GAAIxB,CAAc,CAACqC,iBAAf,CAAiCL,QAAjC,CAA0CjC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA1C,CAAJ,CAA+D,CAC3D,GAAIgB,CAAAA,CAAO,CAAGjC,CAAc,CAACqC,iBAAf,CAAiCH,OAAjC,CAAyCnC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAzC,CAAd,CACA,GAAgB,CAAC,CAAb,GAAAgB,CAAJ,CAAoB,CAChBjC,CAAc,CAACqC,iBAAf,CAAiCF,MAAjC,CAAwCF,CAAxC,CAAiD,CAAjD,CACH,CACJ,CALD,IAKO,CACHjC,CAAc,CAACqC,iBAAf,CAAiCD,IAAjC,CAAsCrC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAtC,CACH,CACJ,CAED,GAA2B,aAAvB,EAAAlB,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAA0C,CACtC,GAAIxB,CAAc,CAACsC,sBAAf,CAAsCN,QAAtC,CAA+CjC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA/C,CAAJ,CAAoE,CAChE,GAAIgB,CAAAA,CAAO,CAAGjC,CAAc,CAACsC,sBAAf,CAAsCJ,OAAtC,CAA8CnC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA9C,CAAd,CACA,GAAgB,CAAC,CAAb,GAAAgB,CAAJ,CAAoB,CAChBjC,CAAc,CAACsC,sBAAf,CAAsCH,MAAtC,CAA6CF,CAA7C,CAAsD,CAAtD,CACH,CACJ,CALD,IAKO,CACHjC,CAAc,CAACsC,sBAAf,CAAsCF,IAAtC,CAA2CrC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA3C,CACH,CACJ,CAEJ,CAlCD,IAkCO,CACH,GAA2B,UAAvB,EAAAlB,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAuC,CAEnCxB,CAAc,CAACsC,sBAAf,CAAwC,EAAxC,CACAtC,CAAc,CAACsC,sBAAf,CAAsCC,MAAtC,CAA+C,CAA/C,CAEAvC,CAAc,CAACqC,iBAAf,CAAmC,EAAnC,CACArC,CAAc,CAACqC,iBAAf,CAAiCE,MAAjC,CAA0C,CAA1C,CAEA,GAAIvC,CAAc,CAAC+B,QAAf,CAAwBC,QAAxB,CAAiCjC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAjC,GAAqF,CAAjC,EAAAjB,CAAc,CAAC+B,QAAf,CAAwBQ,MAAhF,CAA4F,CACxFvC,CAAc,CAAC+B,QAAf,CAA0B,EAA1B,CACA/B,CAAc,CAAC+B,QAAf,CAAwBQ,MAAxB,CAAiC,CACpC,CAHD,IAGO,CACHvC,CAAc,CAAC+B,QAAf,CAA0B,CAAChC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAD,CAC7B,CACJ,CAED,GAA2B,aAAvB,EAAAlB,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAA0C,CAEtCxB,CAAc,CAACqC,iBAAf,CAAmC,EAAnC,CACArC,CAAc,CAACqC,iBAAf,CAAiCE,MAAjC,CAA0C,CAA1C,CAEAvC,CAAc,CAAC+B,QAAf,CAA0B,EAA1B,CACA/B,CAAc,CAAC+B,QAAf,CAAwBQ,MAAxB,CAAiC,CAAjC,CAEA,GAAIvC,CAAc,CAACsC,sBAAf,CAAsCN,QAAtC,CAA+CjC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA/C,GAC8C,CAA/C,EAAAjB,CAAc,CAACsC,sBAAf,CAAsCC,MADzC,CACqD,CACjDvC,CAAc,CAACsC,sBAAf,CAAwC,EAAxC,CACAtC,CAAc,CAACsC,sBAAf,CAAsCC,MAAtC,CAA+C,CAClD,CAJD,IAIO,CACHvC,CAAc,CAACsC,sBAAf,CAAwC,CAACvC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAD,CAC3C,CACJ,CAED,GAA2B,mBAAvB,EAAAlB,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAE5CxB,CAAc,CAAC+B,QAAf,CAA0B,EAA1B,CACA/B,CAAc,CAAC+B,QAAf,CAAwBQ,MAAxB,CAAiC,CAAjC,CAEAvC,CAAc,CAACsC,sBAAf,CAAwC,EAAxC,CACAtC,CAAc,CAACsC,sBAAf,CAAsCC,MAAtC,CAA+C,CAA/C,CAEA,GAAIvC,CAAc,CAACqC,iBAAf,CAAiCL,QAAjC,CAA0CjC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAA1C,GACyC,CAA1C,EAAAjB,CAAc,CAACqC,iBAAf,CAAiCE,MADpC,CACgD,CAC5CvC,CAAc,CAACqC,iBAAf,CAAmC,EAAnC,CACArC,CAAc,CAACqC,iBAAf,CAAiCE,MAAjC,CAA0C,CAC7C,CAJD,IAIO,CACHvC,CAAc,CAACqC,iBAAf,CAAmC,CAACtC,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,EAAD,CACtC,CACJ,CACJ,CAGG,GAAI,CAACU,CAAC,CAACG,OAAP,CAAgB,CACZ/B,CAAC,CAAC,mBAAD,CAAD,CAA6CyC,GAA7C,CAAiD,kBAAjD,CAAqE,mBAArE,EAEA,GAA2B,mBAAvB,EAAAzC,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAC5CzB,CAAC,CAAC,iCAAD,CAAD,CAAqCyC,GAArC,CAAyC,kBAAzC,CAA4D,mBAA5D,EACAzC,CAAC,CAAC,kBAAD,CAAD,CAAsByC,GAAtB,CAA0B,kBAA1B,CAA6C,mBAA7C,CACH,CAED,GAA2B,aAAvB,EAAAzC,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAA0C,CACtCzB,CAAC,CAAC,kBAAD,CAAD,CAAsByC,GAAtB,CAA0B,kBAA1B,CAA6C,mBAA7C,EACAzC,CAAC,CAAC,4BAAD,CAAD,CAAgCyC,GAAhC,CAAoC,kBAApC,CAAuD,mBAAvD,CACH,CAED,GAA2B,UAAvB,EAAAzC,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAuC,CACnCzB,CAAC,CAAC,iCAAD,CAAD,CAAqCyC,GAArC,CAAyC,kBAAzC,CAA4D,mBAA5D,EACAzC,CAAC,CAAC,4BAAD,CAAD,CAAgCyC,GAAhC,CAAoC,kBAApC,CAAuD,mBAAvD,CACH,CAGD,GAA+C,CAA3C,EAAAxC,CAAc,CAACqC,iBAAf,CAAiCE,MAArC,CAAkD,CAC9CxC,CAAC,CAAC,4BAAD,CAAD,CAAgCyC,GAAhC,CAAoC,kBAApC,CAAuD,SAAvD,CACH,CAFD,IAEO,CACH,GAAuC,mBAAnC,EAAAzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAAJ,CAA4D,CACxDzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAAgC,mBAAhC,CACH,CAFD,IAEO,CACHzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAA+B,SAA/B,CACH,CACJ,CAED,GAAsC,CAAlC,EAAAxC,CAAc,CAAC+B,QAAf,CAAwBQ,MAA5B,CAAyC,CACrCxC,CAAC,CAAC,kBAAD,CAAD,CAAsByC,GAAtB,CAA0B,kBAA1B,CAA6C,SAA7C,CACH,CAFD,IAEO,CACH,GAAuC,mBAAnC,EAAAzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAAJ,CAA4D,CACxDzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAAgC,mBAAhC,CACH,CAFD,IAEO,CACHzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAA+B,SAA/B,CACH,CACJ,CAED,GAAoD,CAAhD,EAAAxC,CAAc,CAACsC,sBAAf,CAAsCC,MAA1C,CAAuD,CACnDxC,CAAC,CAAC,iCAAD,CAAD,CAAqCyC,GAArC,CAAyC,kBAAzC,CAA4D,SAA5D,CACH,CAFD,IAEO,CACH,GAAuC,mBAAnC,EAAAzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAAJ,CAA4D,CACxDzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAAgC,mBAAhC,CACH,CAFD,IAEO,CACHzC,CAAC,CAAC,IAAD,CAAD,CAAQyC,GAAR,CAAY,kBAAZ,CAA+B,SAA/B,CACH,CACJ,CAEJ,CAjDD,IAiDO,CACH,GAAIC,CAAAA,CAAG,CAAG,EAAV,CACA,GAA2B,UAAvB,EAAA1C,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAuC,CACnCiB,CAAG,CAAG,SACT,CAED,GAA2B,mBAAvB,EAAA1C,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAC5CiB,CAAG,CAAG,mBACT,CAED,GAA2B,aAAvB,EAAA1C,CAAC,CAAC,IAAD,CAAD,CAAQyB,IAAR,CAAa,KAAb,CAAJ,CAA0C,CACtCiB,CAAG,CAAG,wBACT,CAGD,GAAW,SAAP,EAAAA,CAAJ,CAAsB,CAClB,GAAIC,CAAAA,CAAkB,CAAG,UAC5B,CAFD,IAEO,CACH,GAAIA,CAAAA,CAAkB,CAAGD,CAC5B,CAED,GAAiD,CAA7C,EAAAzC,CAAc,CAAC0C,CAAD,CAAd,CAAmCH,MAAvC,CAAoD,CAChDxC,CAAC,CAAC,YAAY0C,CAAb,CAAD,CAAmBD,GAAnB,CAAuB,kBAAvB,CAA2C,mBAA3C,CACH,CAFD,IAEO,CACHzC,CAAC,CAAC,YAAY0C,CAAb,CAAD,CAAmBD,GAAnB,CAAuB,kBAAvB,CAA2C,mBAA3C,EACAzC,CAAC,CAAC,YAAY0C,CAAb,CAAD,CAAmBE,IAAnB,CAAwB,UAAsB,IAEtC1B,CAAAA,CAAI,CAAGlB,CAAC,CAAE,IAAF,CAAD,CAAUkB,IAAV,EAF+B,CAGtC2B,CAAO,CAAG7C,CAAC,CAAC,IAAD,CAH2B,CAK1C,GAAW,SAAP,EAAA0C,CAAJ,CAAsB,CAClBA,CAAG,CAAG,UACT,CAED,GAAW,aAAP,EAAAA,CAAJ,CAA0B,CACtBA,CAAG,CAAG,wBACT,CAEDzC,CAAc,CAACyC,CAAD,CAAd,CAAoBI,OAApB,CAA4B,SAASC,CAAT,CAAkB,CAE1C,GAAIA,CAAO,EAAI7B,CAAf,CAAqB,CACjB2B,CAAO,CAACJ,GAAR,CAAY,kBAAZ,CAA+B,mBAA/B,CACH,CACDO,OAAO,CAACC,GAAR,CAAYF,CAAO,CAAC,GAAR,CAAY7B,CAAxB,CACH,CAND,CAOH,CApBD,CAqBH,CAEJ,CACD8B,OAAO,CAACC,GAAR,CAAYhD,CAAZ,EAGAE,CAAgB,CADHF,CACG,CACvB,CA/LD,EAiMAoB,CAAW,EACd,CArME,CAsMH6B,qBAAqB,CAAE,gCAAW,CAC9BlD,CAAC,CAAC,uBAAD,CAAD,CAA2BmD,OAA3B,CAAmC,IAAnC,CAAyC,UAAW,CAAEnD,CAAC,CAAC,uBAAD,CAAD,CAA2BoD,MAA3B,EAAsC,CAA5F,CACH,CAxME,CA0MV,CAhQK,CAAN","sourcesContent":["define(['jquery'], function($) {\n    var selected_items = { \"Keywords\" : [], \"applicationthemes\" : [], \"homepartnerinstitution\" : [] };\n    var perm;\n    function ajax_select_call(datas) {\n        $.ajax({\n            method: \"POST\",\n            url: \"ajax_call.php\",\n            data: {mode: \"select\", datas: datas }\n        })\n        .done(function( msg ) {\n            $(\"#table_data\").empty();\n            /* eslint-disable no-console */\n                var obj = JSON.parse(msg);\n\n                for (var rec in obj) {\n\n                    var content_tab = $(\"#table_data\").html()+\"<tr>\"+\n                    \"<td><a href='\"+obj[rec]['researchinfrastructure']+\"'.>\"\n                    +obj[rec]['researchinfrastructure'].substr(\n                    obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")+1,\n                    obj[rec]['researchinfrastructure'].lastIndexOf(\".jpg\")-\n                    obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")-1)+\n                    \"</td>\" +\n                    \"<td>\"+obj[rec]['applicationthemes']+\"</td>\"+\n                    \"<td>\"+obj[rec]['keywords']+\"</td>\"+\n                    \"<td>\"+obj[rec]['homepartnerinstitution']+\"</td>\";\n\n                    if (perm) {\n                        content_tab = content_tab + '<td><span class=\"remove_rec\" rec_id=\"'+obj[rec]['id']\n                        +'\"><i class=\"icon fa fa-trash fa-fw \" title=\"Supprimer\" aria-label=\"Supprimer\"></i></span></td>';\n                    }\n\n                    $(\"#table_data\").html(content_tab);\n                 }\n            trash_event();\n        });\n    }\n    function trash_event() {\n        $(\".remove_rec\").click(function() {\n            if(confirm(\"Are you sure?\"))\n            {\n                var rec_id = $(this).attr(\"rec_id\");\n                $.ajax({\n                    method: \"POST\",\n                    url: \"ajax_call.php\",\n                    data: { mode: \"remove\", rec_id: rec_id }\n                })\n                .done(function() {\n                    ajax_select_call(selected_items);\n                });\n            }\n        });\n\n    }\n    return {\n        init: function(permission){ /* eslint-disable no-console  */\n            perm = permission;\n            $(\".cellule_research\").click(function(e) {\n                if (!e) {e = window.event;}\n                if (e.ctrlKey) { // click + touche ctrl\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n                        if (selected_items.Keywords.includes($(this).html())) {\n                            var myIndex = selected_items.Keywords.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.Keywords.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.Keywords.push($(this).html());\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"applicationthemes\") {\n                        if (selected_items.applicationthemes.includes($(this).html())) {\n                            var myIndex = selected_items.applicationthemes.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.applicationthemes.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.applicationthemes.push($(this).html());\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"institution\") {\n                        if (selected_items.homepartnerinstitution.includes($(this).html())) {\n                            var myIndex = selected_items.homepartnerinstitution.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.homepartnerinstitution.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.homepartnerinstitution.push($(this).html());\n                        }\n                    }\n\n                } else { //simple click\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n\n                        selected_items.homepartnerinstitution = [];\n                        selected_items.homepartnerinstitution.length = 0;\n\n                        selected_items.applicationthemes = [];\n                        selected_items.applicationthemes.length = 0;\n\n                        if (selected_items.Keywords.includes($(this).html()) && selected_items.Keywords.length ==1) {\n                            selected_items.Keywords = [];\n                            selected_items.Keywords.length = 0;\n                        } else {\n                            selected_items.Keywords = [$(this).html()];\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"institution\") {\n\n                        selected_items.applicationthemes = [];\n                        selected_items.applicationthemes.length = 0;\n\n                        selected_items.Keywords = [];\n                        selected_items.Keywords.length = 0;\n\n                        if (selected_items.homepartnerinstitution.includes($(this).html())\n                        && selected_items.homepartnerinstitution.length ==1) {\n                            selected_items.homepartnerinstitution = [];\n                            selected_items.homepartnerinstitution.length = 0;\n                        } else {\n                            selected_items.homepartnerinstitution = [$(this).html()];\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"applicationthemes\") {\n\n                        selected_items.Keywords = [];\n                        selected_items.Keywords.length = 0;\n\n                        selected_items.homepartnerinstitution = [];\n                        selected_items.homepartnerinstitution.length = 0;\n\n                        if (selected_items.applicationthemes.includes($(this).html())\n                        && selected_items.applicationthemes.length ==1) {\n                            selected_items.applicationthemes = [];\n                            selected_items.applicationthemes.length = 0;\n                        } else {\n                            selected_items.applicationthemes = [$(this).html()];\n                        }\n                    }\n                }\n\n              // if ($(this).attr(\"box\") == \"Keywords\") {\n                    if (!e.ctrlKey) {\n                        $(\".cellule_research\"/*\".cellule_keyword\"*/).css(\"background-color\", \"rgb(68, 162, 272)\");\n\n                        if ($(this).attr(\"box\") == \"applicationthemes\") {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_keyword\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        if ($(this).attr(\"box\") == \"institution\") {\n                            $(\".cellule_keyword\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        if ($(this).attr(\"box\") == \"Keywords\") {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        //--//\n                        if (selected_items.applicationthemes.length == 0) {\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                        if (selected_items.Keywords.length == 0) {\n                            $(\".cellule_keyword\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                        if (selected_items.homepartnerinstitution.length == 0) {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                    } else {\n                        var box = \"\";\n                        if ($(this).attr(\"box\") == \"Keywords\") {\n                            box = \"keyword\";\n                        }\n\n                        if ($(this).attr(\"box\") == \"applicationthemes\") {\n                            box = \"applicationthemes\";\n                        }\n\n                        if ($(this).attr(\"box\") == \"institution\") {\n                            box = \"homepartnerinstitution\";\n                        }\n\n                        // I know ... that's shit\n                        if (box == \"keyword\") {\n                            var box_selected_items = \"Keywords\";\n                        } else {\n                            var box_selected_items = box;\n                        }\n\n                        if (selected_items[box_selected_items].length == 0) {\n                            $(\".cellule_\"+box).css(\"background-color\", \"rgb(68, 114, 196)\");\n                        } else {\n                            $(\".cellule_\"+box).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            $(\".cellule_\"+box).each(function( /*index*/ ) {\n\n                                var html = $( this ).html();\n                                var elemeuh = $(this);\n\n                                if (box == \"keyword\") {\n                                    box = \"Keywords\";\n                                }\n\n                                if (box == \"institution\") {\n                                    box = \"homepartnerinstitution\";\n                                }\n\n                                selected_items[box].forEach(function(element) {\n\n                                    if (element == html) {\n                                        elemeuh.css(\"background-color\",\"rgb(68, 114, 196)\");\n                                    }\n                                    console.log(element+\" \"+html);\n                                });\n                            });\n                        }\n\n                    }\n                    console.log(selected_items);\n\n                    var datas  = selected_items;\n                    ajax_select_call(datas);\n            });\n\n            trash_event();\n        },\n        progressive_disappear: function() {\n            $(\"#message_confirmation\").fadeOut(1500, function() { $(\"#message_confirmation\").remove(); });\n        }\n    };\n});"],"file":"table_manager.min.js"}