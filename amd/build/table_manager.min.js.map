{"version":3,"sources":["../src/table_manager.js"],"names":["define","$","selected_items","init","click","e","window","event","ctrlKey","attr","Keywords","includes","html","myIndex","indexOf","splice","push","applicationthemes","homepartnerinstitution","length","css","box","box_selected_items","each","elemeuh","forEach","element","console","log","ajax","method","url","data","mode","datas","done","msg","empty","obj","JSON","parse","rec","substr","lastIndexOf","rec_id","progressive_disappear","fadeOut","remove"],"mappings":"AAAAA,OAAM,mCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3B,GAAIC,CAAAA,CAAc,CAAG,CAAE,SAAa,EAAf,CAAmB,kBAAsB,EAAzC,CAA6C,uBAA2B,EAAxE,CAArB,CACA,MAAO,CACHC,IAAI,CAAE,eAAU,CACZF,CAAC,CAAC,mBAAD,CAAD,CAAuBG,KAAvB,CAA6B,SAASC,CAAT,CAAY,CACrC,GAAI,CAACA,CAAL,CAAQ,CAACA,CAAC,CAAGC,MAAM,CAACC,KAAO,CAE3B,GAAIF,CAAC,CAACG,OAAN,CAAe,CACX,GAA2B,UAAvB,EAAAP,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAuC,CACnC,GAAIP,CAAc,CAACQ,QAAf,CAAwBC,QAAxB,CAAiCV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAjC,CAAJ,CAAsD,CAClD,GAAIC,CAAAA,CAAO,CAAGX,CAAc,CAACQ,QAAf,CAAwBI,OAAxB,CAAgCb,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAhC,CAAd,CACA,GAAgB,CAAC,CAAb,GAAAC,CAAJ,CAAoB,CAChBX,CAAc,CAACQ,QAAf,CAAwBK,MAAxB,CAA+BF,CAA/B,CAAwC,CAAxC,CACH,CACJ,CALD,IAKO,CACHX,CAAc,CAACQ,QAAf,CAAwBM,IAAxB,CAA6Bf,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA7B,CACH,CACJ,CAED,GAA2B,mBAAvB,EAAAX,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAC5C,GAAIP,CAAc,CAACe,iBAAf,CAAiCN,QAAjC,CAA0CV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA1C,CAAJ,CAA+D,CAC3D,GAAIC,CAAAA,CAAO,CAAGX,CAAc,CAACe,iBAAf,CAAiCH,OAAjC,CAAyCb,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAzC,CAAd,CACA,GAAgB,CAAC,CAAb,GAAAC,CAAJ,CAAoB,CAChBX,CAAc,CAACe,iBAAf,CAAiCF,MAAjC,CAAwCF,CAAxC,CAAiD,CAAjD,CACH,CACJ,CALD,IAKO,CACHX,CAAc,CAACe,iBAAf,CAAiCD,IAAjC,CAAsCf,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAtC,CACH,CACJ,CAED,GAA2B,aAAvB,EAAAX,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAA0C,CACtC,GAAIP,CAAc,CAACgB,sBAAf,CAAsCP,QAAtC,CAA+CV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA/C,CAAJ,CAAoE,CAChE,GAAIC,CAAAA,CAAO,CAAGX,CAAc,CAACgB,sBAAf,CAAsCJ,OAAtC,CAA8Cb,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA9C,CAAd,CACA,GAAgB,CAAC,CAAb,GAAAC,CAAJ,CAAoB,CAChBX,CAAc,CAACgB,sBAAf,CAAsCH,MAAtC,CAA6CF,CAA7C,CAAsD,CAAtD,CACH,CACJ,CALD,IAKO,CACHX,CAAc,CAACgB,sBAAf,CAAsCF,IAAtC,CAA2Cf,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA3C,CACH,CACJ,CAEJ,CAlCD,IAkCO,CACH,GAA2B,UAAvB,EAAAX,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAuC,CAEnCP,CAAc,CAACgB,sBAAf,CAAwC,EAAxC,CACAhB,CAAc,CAACgB,sBAAf,CAAsCC,MAAtC,CAA+C,CAA/C,CAEAjB,CAAc,CAACe,iBAAf,CAAmC,EAAnC,CACAf,CAAc,CAACe,iBAAf,CAAiCE,MAAjC,CAA0C,CAA1C,CAEA,GAAIjB,CAAc,CAACQ,QAAf,CAAwBC,QAAxB,CAAiCV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAjC,GAAqF,CAAjC,EAAAV,CAAc,CAACQ,QAAf,CAAwBS,MAAhF,CAA4F,CACxFjB,CAAc,CAACQ,QAAf,CAA0B,EAA1B,CACAR,CAAc,CAACQ,QAAf,CAAwBS,MAAxB,CAAiC,CACpC,CAHD,IAGO,CACHjB,CAAc,CAACQ,QAAf,CAA0B,CAACT,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAD,CAC7B,CACJ,CAED,GAA2B,aAAvB,EAAAX,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAA0C,CAEtCP,CAAc,CAACe,iBAAf,CAAmC,EAAnC,CACAf,CAAc,CAACe,iBAAf,CAAiCE,MAAjC,CAA0C,CAA1C,CAEAjB,CAAc,CAACQ,QAAf,CAA0B,EAA1B,CACAR,CAAc,CAACQ,QAAf,CAAwBS,MAAxB,CAAiC,CAAjC,CAEA,GAAIjB,CAAc,CAACgB,sBAAf,CAAsCP,QAAtC,CAA+CV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA/C,GAC8C,CAA/C,EAAAV,CAAc,CAACgB,sBAAf,CAAsCC,MADzC,CACqD,CACjDjB,CAAc,CAACgB,sBAAf,CAAwC,EAAxC,CACAhB,CAAc,CAACgB,sBAAf,CAAsCC,MAAtC,CAA+C,CAClD,CAJD,IAIO,CACHjB,CAAc,CAACgB,sBAAf,CAAwC,CAACjB,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAD,CAC3C,CACJ,CAED,GAA2B,mBAAvB,EAAAX,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAE5CP,CAAc,CAACQ,QAAf,CAA0B,EAA1B,CACAR,CAAc,CAACQ,QAAf,CAAwBS,MAAxB,CAAiC,CAAjC,CAEAjB,CAAc,CAACgB,sBAAf,CAAwC,EAAxC,CACAhB,CAAc,CAACgB,sBAAf,CAAsCC,MAAtC,CAA+C,CAA/C,CAEA,GAAIjB,CAAc,CAACe,iBAAf,CAAiCN,QAAjC,CAA0CV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAA1C,GACyC,CAA1C,EAAAV,CAAc,CAACe,iBAAf,CAAiCE,MADpC,CACgD,CAC5CjB,CAAc,CAACe,iBAAf,CAAmC,EAAnC,CACAf,CAAc,CAACe,iBAAf,CAAiCE,MAAjC,CAA0C,CAC7C,CAJD,IAIO,CACHjB,CAAc,CAACe,iBAAf,CAAmC,CAAChB,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,EAAD,CACtC,CACJ,CACJ,CAMG,GAAI,CAACP,CAAC,CAACG,OAAP,CAAgB,CACZP,CAAC,CAAC,mBAAD,CAAD,CAA6CmB,GAA7C,CAAiD,kBAAjD,CAAqE,mBAArE,EAEA,GAA2B,mBAAvB,EAAAnB,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAC5CR,CAAC,CAAC,iCAAD,CAAD,CAAqCmB,GAArC,CAAyC,kBAAzC,CAA4D,mBAA5D,EACAnB,CAAC,CAAC,kBAAD,CAAD,CAAsBmB,GAAtB,CAA0B,kBAA1B,CAA6C,mBAA7C,CACH,CAED,GAA2B,aAAvB,EAAAnB,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAA0C,CACtCR,CAAC,CAAC,kBAAD,CAAD,CAAsBmB,GAAtB,CAA0B,kBAA1B,CAA6C,mBAA7C,EACAnB,CAAC,CAAC,4BAAD,CAAD,CAAgCmB,GAAhC,CAAoC,kBAApC,CAAuD,mBAAvD,CACH,CAED,GAA2B,UAAvB,EAAAnB,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAuC,CACnCR,CAAC,CAAC,iCAAD,CAAD,CAAqCmB,GAArC,CAAyC,kBAAzC,CAA4D,mBAA5D,EACAnB,CAAC,CAAC,4BAAD,CAAD,CAAgCmB,GAAhC,CAAoC,kBAApC,CAAuD,mBAAvD,CACH,CAGD,GAA+C,CAA3C,EAAAlB,CAAc,CAACe,iBAAf,CAAiCE,MAArC,CAAkD,CAC9ClB,CAAC,CAAC,4BAAD,CAAD,CAAgCmB,GAAhC,CAAoC,kBAApC,CAAuD,SAAvD,CACH,CAFD,IAEO,CACH,GAAuC,mBAAnC,EAAAnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAAJ,CAA4D,CACxDnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAAgC,mBAAhC,CACH,CAFD,IAEO,CACHnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAA+B,SAA/B,CACH,CACJ,CAED,GAAsC,CAAlC,EAAAlB,CAAc,CAACQ,QAAf,CAAwBS,MAA5B,CAAyC,CACrClB,CAAC,CAAC,kBAAD,CAAD,CAAsBmB,GAAtB,CAA0B,kBAA1B,CAA6C,SAA7C,CACH,CAFD,IAEO,CACH,GAAuC,mBAAnC,EAAAnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAAJ,CAA4D,CACxDnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAAgC,mBAAhC,CACH,CAFD,IAEO,CACHnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAA+B,SAA/B,CACH,CACJ,CAED,GAAoD,CAAhD,EAAAlB,CAAc,CAACgB,sBAAf,CAAsCC,MAA1C,CAAuD,CACnDlB,CAAC,CAAC,iCAAD,CAAD,CAAqCmB,GAArC,CAAyC,kBAAzC,CAA4D,SAA5D,CACH,CAFD,IAEO,CACH,GAAuC,mBAAnC,EAAAnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAAJ,CAA4D,CACxDnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAAgC,mBAAhC,CACH,CAFD,IAEO,CACHnB,CAAC,CAAC,IAAD,CAAD,CAAQmB,GAAR,CAAY,kBAAZ,CAA+B,SAA/B,CACH,CACJ,CAEJ,CAjDD,IAiDO,CACH,GAAIC,CAAAA,CAAG,CAAG,EAAV,CACA,GAA2B,UAAvB,EAAApB,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAuC,CACnCY,CAAG,CAAG,SACT,CAED,GAA2B,mBAAvB,EAAApB,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAAgD,CAC5CY,CAAG,CAAG,mBACT,CAED,GAA2B,aAAvB,EAAApB,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,KAAb,CAAJ,CAA0C,CACtCY,CAAG,CAAG,wBACT,CAGD,GAAW,SAAP,EAAAA,CAAJ,CAAsB,CAClB,GAAIC,CAAAA,CAAkB,CAAG,UAC5B,CAFD,IAEO,CACH,GAAIA,CAAAA,CAAkB,CAAGD,CAC5B,CAED,GAAiD,CAA7C,EAAAnB,CAAc,CAACoB,CAAD,CAAd,CAAmCH,MAAvC,CAAoD,CAChDlB,CAAC,CAAC,YAAYoB,CAAb,CAAD,CAAmBD,GAAnB,CAAuB,kBAAvB,CAA2C,mBAA3C,CACH,CAFD,IAEO,CACHnB,CAAC,CAAC,YAAYoB,CAAb,CAAD,CAAmBD,GAAnB,CAAuB,kBAAvB,CAA2C,mBAA3C,EACAnB,CAAC,CAAC,YAAYoB,CAAb,CAAD,CAAmBE,IAAnB,CAAwB,UAAsB,IAEtCX,CAAAA,CAAI,CAAGX,CAAC,CAAE,IAAF,CAAD,CAAUW,IAAV,EAF+B,CAGtCY,CAAO,CAAGvB,CAAC,CAAC,IAAD,CAH2B,CAK1C,GAAW,SAAP,EAAAoB,CAAJ,CAAsB,CAClBA,CAAG,CAAG,UACT,CAED,GAAW,aAAP,EAAAA,CAAJ,CAA0B,CACtBA,CAAG,CAAG,wBACT,CAEDnB,CAAc,CAACmB,CAAD,CAAd,CAAoBI,OAApB,CAA4B,SAASC,CAAT,CAAkB,CAE1C,GAAIA,CAAO,EAAId,CAAf,CAAqB,CACjBY,CAAO,CAACJ,GAAR,CAAY,kBAAZ,CAA+B,mBAA/B,CACH,CACDO,OAAO,CAACC,GAAR,CAAYF,CAAO,CAAC,GAAR,CAAYd,CAAxB,CACH,CAND,CAOH,CApBD,CAqBH,CAEJ,CACDe,OAAO,CAACC,GAAR,CAAY1B,CAAZ,EAMJD,CAAC,CAAC4B,IAAF,CAAO,CACHC,MAAM,CAAE,MADL,CAEHC,GAAG,CAAE,eAFF,CAGHC,IAAI,CAAE,CAACC,IAAI,CAAE,KAAP,CAAcC,KAAK,CALhBhC,CAKH,CAHH,CAAP,EAKCiC,IALD,CAKM,SAAUC,CAAV,CAAgB,CAClBnC,CAAC,CAAC,aAAD,CAAD,CAAiBoC,KAAjB,GAEI,GAAIC,CAAAA,CAAG,CAAGC,IAAI,CAACC,KAAL,CAAWJ,CAAX,CAAV,CAEA,IAAK,GAAIK,CAAAA,CAAT,GAAgBH,CAAAA,CAAhB,CAAqB,CAGjBrC,CAAC,CAAC,aAAD,CAAD,CAAiBW,IAAjB,CAAsBX,CAAC,CAAC,aAAD,CAAD,CAAiBW,IAAjB,uBACN0B,CAAG,CAACG,CAAD,CAAH,uBADM,CAC6B,KAD7B,CAErBH,CAAG,CAACG,CAAD,CAAH,wBAAmCC,MAAnC,CACDJ,CAAG,CAACG,CAAD,CAAH,wBAAmCE,WAAnC,CAA+C,GAA/C,EAAoD,CADnD,CAEDL,CAAG,CAACG,CAAD,CAAH,wBAAmCE,WAAnC,CAA+C,MAA/C,EACAL,CAAG,CAACG,CAAD,CAAH,wBAAmCE,WAAnC,CAA+C,GAA/C,CADA,CACoD,CAHnD,CAFqB,aAOfL,CAAG,CAACG,CAAD,CAAH,kBAPe,aAQfH,CAAG,CAACG,CAAD,CAAH,SARe,aASfH,CAAG,CAACG,CAAD,CAAH,uBATe,CASoB,OAT1C,CAUF,CAIT,CA3BD,CA4BH,CAjOD,EAmOAxC,CAAC,CAAC,aAAD,CAAD,CAAiBG,KAAjB,CAAuB,UAAW,CAC9B,GAAIwC,CAAAA,CAAM,CAAG3C,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,QAAb,CAAb,CACAR,CAAC,CAAC4B,IAAF,CAAO,CACHC,MAAM,CAAE,MADL,CAEHC,GAAG,CAAE,eAFF,CAGHC,IAAI,CAAE,CAAEC,IAAI,CAAE,QAAR,CAAkBW,MAAM,CAAEA,CAA1B,CAHH,CAAP,EAKCT,IALD,CAKM,SAAUC,CAAV,CAAgB,CAClBT,OAAO,CAACC,GAAR,CAAY,cAAcQ,CAA1B,CACH,CAPD,CAQH,CAVD,CAYH,CAjPE,CAkPHS,qBAAqB,CAAE,gCAAW,CAC9B5C,CAAC,CAAC,uBAAD,CAAD,CAA2B6C,OAA3B,CAAmC,IAAnC,CAAyC,UAAW,CAAE7C,CAAC,CAAC,uBAAD,CAAD,CAA2B8C,MAA3B,EAAsC,CAA5F,CACH,CApPE,CAsPV,CAxPK,CAAN","sourcesContent":["define(['jquery'], function($) {\n    var selected_items = { \"Keywords\" : [], \"applicationthemes\" : [], \"homepartnerinstitution\" : [] };\n    return {\n        init: function(){ /* eslint-disable no-console  */\n            $(\".cellule_research\").click(function(e) {\n                if (!e) {e = window.event;}\n\n                if (e.ctrlKey) { // click + touche ctrl\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n                        if (selected_items.Keywords.includes($(this).html())) {\n                            var myIndex = selected_items.Keywords.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.Keywords.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.Keywords.push($(this).html());\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"applicationthemes\") {\n                        if (selected_items.applicationthemes.includes($(this).html())) {\n                            var myIndex = selected_items.applicationthemes.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.applicationthemes.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.applicationthemes.push($(this).html());\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"institution\") {\n                        if (selected_items.homepartnerinstitution.includes($(this).html())) {\n                            var myIndex = selected_items.homepartnerinstitution.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.homepartnerinstitution.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.homepartnerinstitution.push($(this).html());\n                        }\n                    }\n\n                } else { //simple click\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n\n                        selected_items.homepartnerinstitution = [];\n                        selected_items.homepartnerinstitution.length = 0;\n\n                        selected_items.applicationthemes = [];\n                        selected_items.applicationthemes.length = 0;\n\n                        if (selected_items.Keywords.includes($(this).html()) && selected_items.Keywords.length ==1) {\n                            selected_items.Keywords = [];\n                            selected_items.Keywords.length = 0;\n                        } else {\n                            selected_items.Keywords = [$(this).html()];\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"institution\") {\n\n                        selected_items.applicationthemes = [];\n                        selected_items.applicationthemes.length = 0;\n\n                        selected_items.Keywords = [];\n                        selected_items.Keywords.length = 0;\n\n                        if (selected_items.homepartnerinstitution.includes($(this).html())\n                        && selected_items.homepartnerinstitution.length ==1) {\n                            selected_items.homepartnerinstitution = [];\n                            selected_items.homepartnerinstitution.length = 0;\n                        } else {\n                            selected_items.homepartnerinstitution = [$(this).html()];\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"applicationthemes\") {\n\n                        selected_items.Keywords = [];\n                        selected_items.Keywords.length = 0;\n\n                        selected_items.homepartnerinstitution = [];\n                        selected_items.homepartnerinstitution.length = 0;\n\n                        if (selected_items.applicationthemes.includes($(this).html())\n                        && selected_items.applicationthemes.length ==1) {\n                            selected_items.applicationthemes = [];\n                            selected_items.applicationthemes.length = 0;\n                        } else {\n                            selected_items.applicationthemes = [$(this).html()];\n                        }\n                    }\n                }\n\n\n              //console.log(selected_items);\n\n              // if ($(this).attr(\"box\") == \"Keywords\") {\n                    if (!e.ctrlKey) {\n                        $(\".cellule_research\"/*\".cellule_keyword\"*/).css(\"background-color\", \"rgb(68, 162, 272)\");\n\n                        if ($(this).attr(\"box\") == \"applicationthemes\") {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_keyword\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        if ($(this).attr(\"box\") == \"institution\") {\n                            $(\".cellule_keyword\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        if ($(this).attr(\"box\") == \"Keywords\") {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        //--//\n                        if (selected_items.applicationthemes.length == 0) {\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                        if (selected_items.Keywords.length == 0) {\n                            $(\".cellule_keyword\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                        if (selected_items.homepartnerinstitution.length == 0) {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                    } else {\n                        var box = \"\";\n                        if ($(this).attr(\"box\") == \"Keywords\") {\n                            box = \"keyword\";\n                        }\n\n                        if ($(this).attr(\"box\") == \"applicationthemes\") {\n                            box = \"applicationthemes\";\n                        }\n\n                        if ($(this).attr(\"box\") == \"institution\") {\n                            box = \"homepartnerinstitution\";\n                        }\n\n                        // I know ... that's shit\n                        if (box == \"keyword\") {\n                            var box_selected_items = \"Keywords\";\n                        } else {\n                            var box_selected_items = box;\n                        }\n\n                        if (selected_items[box_selected_items].length == 0) {\n                            $(\".cellule_\"+box).css(\"background-color\", \"rgb(68, 114, 196)\");\n                        } else {\n                            $(\".cellule_\"+box).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            $(\".cellule_\"+box).each(function( /*index*/ ) {\n\n                                var html = $( this ).html();\n                                var elemeuh = $(this);\n\n                                if (box == \"keyword\") {\n                                    box = \"Keywords\";\n                                }\n\n                                if (box == \"institution\") {\n                                    box = \"homepartnerinstitution\";\n                                }\n\n                                selected_items[box].forEach(function(element) {\n\n                                    if (element == html) {\n                                        elemeuh.css(\"background-color\",\"rgb(68, 114, 196)\");\n                                    }\n                                    console.log(element+\" \"+html);\n                                });\n                            });\n                        }\n\n                    }\n                    console.log(selected_items);\n\n                //}\n\n                var datas  = selected_items;//$(this).html();\n\n                $.ajax({\n                    method: \"POST\",\n                    url: \"ajax_call.php\",\n                    data: {mode: \"add\", datas: datas }\n                })\n                .done(function( msg ) {\n                    $(\"#table_data\").empty();\n                    /* eslint-disable no-console */\n                        var obj = JSON.parse(msg);\n\n                        for (var rec in obj) {\n                         /*   console.log(obj[rec]);\n                            console.log(obj[rec]['researchinfrastructure']);*/\n                            $(\"#table_data\").html($(\"#table_data\").html()+\"<tr>\"+\n                            \"<td><a href='\"+obj[rec]['researchinfrastructure']+\"'.>\"\n                            +obj[rec]['researchinfrastructure'].substr(\n                            obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")+1,\n                            obj[rec]['researchinfrastructure'].lastIndexOf(\".jpg\")-\n                            obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")-1)+\n                            \"</td>\" +\n                            \"<td>\"+obj[rec]['applicationthemes']+\"</td>\"+\n                            \"<td>\"+obj[rec]['keywords']+\"</td>\"+\n                            \"<td>\"+obj[rec]['homepartnerinstitution']+\"</td>\");\n                         }\n\n                      //  console.log(obj);\n                 // alert( \"Data Saved: \" + msg );\n                });\n            });\n\n            $(\".remove_rec\").click(function() {\n                var rec_id = $(this).attr(\"rec_id\");\n                $.ajax({\n                    method: \"POST\",\n                    url: \"ajax_call.php\",\n                    data: { mode: \"remove\", rec_id: rec_id }\n                })\n                .done(function( msg ) {\n                    console.log(\"ok removed \"+msg);\n                });\n            });\n\n        },\n        progressive_disappear: function() {\n            $(\"#message_confirmation\").fadeOut(1500, function() { $(\"#message_confirmation\").remove(); });\n        }\n    };\n});"],"file":"table_manager.min.js"}