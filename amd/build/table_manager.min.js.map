{"version":3,"sources":["../src/table_manager.js"],"names":["define","$","selected_items","perm","ajax_select_call","datas","ajax","method","url","data","mode","done","msg","empty","obj","JSON","parse","rec","content_tab","html","substr","lastIndexOf","replaceAll","trash_event","click","confirm","rec_id","attr","init","permission","e","window","event","ctrlKey","Keywords","includes","myIndex","indexOf","splice","push","applicationthemes","homepartnerinstitution","length","css","box","box_selected_items","each","elemeuh","forEach","element","console","log","progressive_disappear","fadeOut","remove"],"mappings":"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","sourcesContent":["define(['jquery'], function($) {\n    var selected_items = { \"Keywords\" : [], \"applicationthemes\" : [], \"homepartnerinstitution\" : [] };\n    var perm;\n    function ajax_select_call(datas) {\n        $.ajax({\n            method: \"POST\",\n            url: \"ajax_call.php\",\n            data: {mode: \"select\", datas: datas }\n        })\n        .done(function( msg ) {\n            $(\"#table_data\").empty();\n            /* eslint-disable no-console */\n                var obj = JSON.parse(msg);\n\n                for (var rec in obj) {\n                    var content_tab = $(\"#table_data\").html()+\"<tr class='line_table'>\"+\n                    \"<td class='td_big'><a target='_blank' href='\"+obj[rec]['researchinfrastructure']+\"'.>\"\n                    +obj[rec]['researchinfrastructure'].substr(\n                    obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")+1,\n                    obj[rec]['researchinfrastructure'].lastIndexOf(\".pdf\")-\n                    obj[rec]['researchinfrastructure'].lastIndexOf(\"/\")-1)+\n                    \"</td>\" +\n                    \"<td class='td_big'>\"+obj[rec]['applicationthemes'].replaceAll('<>', '-')+\"</td>\"+\n                    \"<td class='td_big'>\"+obj[rec]['keywords'].replaceAll('<>', '-')+\"</td>\"+\n                    \"<td class='td_big'>\"+obj[rec]['homepartnerinstitution']+\"</td>\";\n\n                    if (perm) {\n                        content_tab = content_tab + '<td class=\"td_big\"><span class=\"remove_rec\" rec_id=\"'+obj[rec]['id']\n                        +'\"><i class=\"suppr icon fa fa-trash fa-fw \" title=\"Supprimer\" aria-label=\"Supprimer\"></i></span></td>';\n                    }\n\n                    $(\"#table_data\").html(content_tab);\n                 }\n            trash_event();\n        });\n    }\n    function trash_event() {\n        $(\".remove_rec\").click(function() {\n            if(confirm(\"Are you sure?\"))\n            {\n                var rec_id = $(this).attr(\"rec_id\");\n                $.ajax({\n                    method: \"POST\",\n                    url: \"ajax_call.php\",\n                    data: { mode: \"remove\", rec_id: rec_id }\n                })\n                .done(function() {\n                    ajax_select_call(selected_items);\n                });\n            }\n        });\n\n    }\n    return {\n        init: function(permission){ /* eslint-disable no-console  */\n            perm = permission;\n            $(\".cellule_research\").click(function(e) {\n                if (!e) {e = window.event;}\n                if (e.ctrlKey) { // click + touche ctrl\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n                        if (selected_items.Keywords.includes($(this).html())) {\n                            var myIndex = selected_items.Keywords.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.Keywords.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.Keywords.push($(this).html());\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"applicationthemes\") {\n                        if (selected_items.applicationthemes.includes($(this).html())) {\n                            var myIndex = selected_items.applicationthemes.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.applicationthemes.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.applicationthemes.push($(this).html());\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"institution\") {\n                        if (selected_items.homepartnerinstitution.includes($(this).html())) {\n                            var myIndex = selected_items.homepartnerinstitution.indexOf($(this).html());\n                            if (myIndex !== -1) {\n                                selected_items.homepartnerinstitution.splice(myIndex, 1);\n                            }\n                        } else {\n                            selected_items.homepartnerinstitution.push($(this).html());\n                        }\n                    }\n\n                } else { //simple click\n                    if ($(this).attr(\"box\") == \"Keywords\") {\n\n                        selected_items.homepartnerinstitution = [];\n                        selected_items.homepartnerinstitution.length = 0;\n\n                        selected_items.applicationthemes = [];\n                        selected_items.applicationthemes.length = 0;\n\n                        if (selected_items.Keywords.includes($(this).html()) && selected_items.Keywords.length ==1) {\n                            selected_items.Keywords = [];\n                            selected_items.Keywords.length = 0;\n                        } else {\n                            selected_items.Keywords = [$(this).html()];\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"institution\") {\n\n                        selected_items.applicationthemes = [];\n                        selected_items.applicationthemes.length = 0;\n\n                        selected_items.Keywords = [];\n                        selected_items.Keywords.length = 0;\n\n                        if (selected_items.homepartnerinstitution.includes($(this).html())\n                        && selected_items.homepartnerinstitution.length ==1) {\n                            selected_items.homepartnerinstitution = [];\n                            selected_items.homepartnerinstitution.length = 0;\n                        } else {\n                            selected_items.homepartnerinstitution = [$(this).html()];\n                        }\n                    }\n\n                    if ($(this).attr(\"box\") == \"applicationthemes\") {\n\n                        selected_items.Keywords = [];\n                        selected_items.Keywords.length = 0;\n\n                        selected_items.homepartnerinstitution = [];\n                        selected_items.homepartnerinstitution.length = 0;\n\n                        if (selected_items.applicationthemes.includes($(this).html())\n                        && selected_items.applicationthemes.length ==1) {\n                            selected_items.applicationthemes = [];\n                            selected_items.applicationthemes.length = 0;\n                        } else {\n                            selected_items.applicationthemes = [$(this).html()];\n                        }\n                    }\n                }\n\n              // if ($(this).attr(\"box\") == \"Keywords\") {\n                    if (!e.ctrlKey) {\n                        $(\".cellule_research\"/*\".cellule_keyword\"*/).css(\"background-color\", \"rgb(68, 162, 272)\");\n\n                        if ($(this).attr(\"box\") == \"applicationthemes\") {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_keyword\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        if ($(this).attr(\"box\") == \"institution\") {\n                            $(\".cellule_keyword\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        if ($(this).attr(\"box\") == \"Keywords\") {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"rgb(68, 114, 196)\");\n                        }\n\n                        //--//\n                        if (selected_items.applicationthemes.length == 0) {\n                            $(\".cellule_applicationthemes\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                        if (selected_items.Keywords.length == 0) {\n                            $(\".cellule_keyword\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                        if (selected_items.homepartnerinstitution.length == 0) {\n                            $(\".cellule_homepartnerinstitution\").css(\"background-color\",\"#4472c4\");\n                        } else {\n                            if ($(this).css(\"background-color\") == \"rgb(68, 114, 196)\") {\n                                $(this).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            } else {\n                                $(this).css(\"background-color\",\"#4472c4\");\n                            }\n                        }\n\n                    } else {\n                        var box = \"\";\n                        if ($(this).attr(\"box\") == \"Keywords\") {\n                            box = \"keyword\";\n                        }\n\n                        if ($(this).attr(\"box\") == \"applicationthemes\") {\n                            box = \"applicationthemes\";\n                        }\n\n                        if ($(this).attr(\"box\") == \"institution\") {\n                            box = \"homepartnerinstitution\";\n                        }\n\n                        // I know ... that's shit\n                        if (box == \"keyword\") {\n                            var box_selected_items = \"Keywords\";\n                        } else {\n                            var box_selected_items = box;\n                        }\n\n                        if (selected_items[box_selected_items].length == 0) {\n                            $(\".cellule_\"+box).css(\"background-color\", \"rgb(68, 114, 196)\");\n                        } else {\n                            $(\".cellule_\"+box).css(\"background-color\", \"rgb(68, 162, 272)\");\n                            $(\".cellule_\"+box).each(function( /*index*/ ) {\n\n                                var html = $( this ).html();\n                                var elemeuh = $(this);\n\n                                if (box == \"keyword\") {\n                                    box = \"Keywords\";\n                                }\n\n                                if (box == \"institution\") {\n                                    box = \"homepartnerinstitution\";\n                                }\n\n                                selected_items[box].forEach(function(element) {\n\n                                    if (element == html) {\n                                        elemeuh.css(\"background-color\",\"rgb(68, 114, 196)\");\n                                    }\n                                    console.log(element+\" \"+html);\n                                });\n                            });\n                        }\n\n                    }\n                    console.log(selected_items);\n\n                    var datas  = selected_items;\n                    ajax_select_call(datas);\n            });\n\n            trash_event();\n        },\n        progressive_disappear: function() {\n            $(\"#message_confirmation\").fadeOut(1500, function() { $(\"#message_confirmation\").remove(); });\n        }\n    };\n});"],"file":"table_manager.min.js"}