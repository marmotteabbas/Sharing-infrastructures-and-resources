define ("block_h_infra_rsc/table_manager",["jquery"],function(a){var b={Keywords:[],applicationthemes:[],homepartnerinstitution:[]};return{init:function init(){a(".cellule_research").click(function(c){if(!c){c=window.event}if(c.ctrlKey){if("Keywords"==a(this).attr("box")){if(b.Keywords.includes(a(this).html())){var d=b.Keywords.indexOf(a(this).html());if(-1!==d){b.Keywords.splice(d,1)}}else{b.Keywords.push(a(this).html())}}if("applicationthemes"==a(this).attr("box")){if(b.applicationthemes.includes(a(this).html())){var d=b.applicationthemes.indexOf(a(this).html());if(-1!==d){b.applicationthemes.splice(d,1)}}else{b.applicationthemes.push(a(this).html())}}if("institution"==a(this).attr("box")){if(b.homepartnerinstitution.includes(a(this).html())){var d=b.homepartnerinstitution.indexOf(a(this).html());if(-1!==d){b.homepartnerinstitution.splice(d,1)}}else{b.homepartnerinstitution.push(a(this).html())}}}else{if("Keywords"==a(this).attr("box")){b.homepartnerinstitution=[];b.homepartnerinstitution.length=0;b.applicationthemes=[];b.applicationthemes.length=0;if(b.Keywords.includes(a(this).html())&&1==b.Keywords.length){b.Keywords=[];b.Keywords.length=0}else{b.Keywords=[a(this).html()]}}if("institution"==a(this).attr("box")){b.applicationthemes=[];b.applicationthemes.length=0;b.Keywords=[];b.Keywords.length=0;if(b.homepartnerinstitution.includes(a(this).html())&&1==b.homepartnerinstitution.length){b.homepartnerinstitution=[];b.homepartnerinstitution.length=0}else{b.homepartnerinstitution=[a(this).html()]}}if("applicationthemes"==a(this).attr("box")){b.Keywords=[];b.Keywords.length=0;b.homepartnerinstitution=[];b.homepartnerinstitution.length=0;if(b.applicationthemes.includes(a(this).html())&&1==b.applicationthemes.length){b.applicationthemes=[];b.applicationthemes.length=0}else{b.applicationthemes=[a(this).html()]}}}if(!c.ctrlKey){a(".cellule_research").css("background-color","rgb(68, 162, 272)");if("applicationthemes"==a(this).attr("box")){a(".cellule_homepartnerinstitution").css("background-color","rgb(68, 114, 196)");a(".cellule_keyword").css("background-color","rgb(68, 114, 196)")}if("institution"==a(this).attr("box")){a(".cellule_keyword").css("background-color","rgb(68, 114, 196)");a(".cellule_applicationthemes").css("background-color","rgb(68, 114, 196)")}if("Keywords"==a(this).attr("box")){a(".cellule_homepartnerinstitution").css("background-color","rgb(68, 114, 196)");a(".cellule_applicationthemes").css("background-color","rgb(68, 114, 196)")}if(0==b.applicationthemes.length){a(".cellule_applicationthemes").css("background-color","#4472c4")}else{if("rgb(68, 114, 196)"==a(this).css("background-color")){a(this).css("background-color","rgb(68, 162, 272)")}else{a(this).css("background-color","#4472c4")}}if(0==b.Keywords.length){a(".cellule_keyword").css("background-color","#4472c4")}else{if("rgb(68, 114, 196)"==a(this).css("background-color")){a(this).css("background-color","rgb(68, 162, 272)")}else{a(this).css("background-color","#4472c4")}}if(0==b.homepartnerinstitution.length){a(".cellule_homepartnerinstitution").css("background-color","#4472c4")}else{if("rgb(68, 114, 196)"==a(this).css("background-color")){a(this).css("background-color","rgb(68, 162, 272)")}else{a(this).css("background-color","#4472c4")}}}else{var f="";if("Keywords"==a(this).attr("box")){f="keyword"}if("applicationthemes"==a(this).attr("box")){f="applicationthemes"}if("institution"==a(this).attr("box")){f="homepartnerinstitution"}if("keyword"==f){var g="Keywords"}else{var g=f}if(0==b[g].length){a(".cellule_"+f).css("background-color","rgb(68, 114, 196)")}else{a(".cellule_"+f).css("background-color","rgb(68, 162, 272)");a(".cellule_"+f).each(function(){var c=a(this).html(),d=a(this);if("keyword"==f){f="Keywords"}if("institution"==f){f="homepartnerinstitution"}b[f].forEach(function(a){if(a==c){d.css("background-color","rgb(68, 114, 196)")}console.log(a+" "+c)})})}}console.log(b);a.ajax({method:"POST",url:"ajax_call.php",data:{datas:b}}).done(function(b){a("#table_data").empty();var c=JSON.parse(b);for(var d in c){a("#table_data").html(a("#table_data").html()+"<tr><td><a href='"+c[d].researchinfrastructure+"'.>"+c[d].researchinfrastructure.substr(c[d].researchinfrastructure.lastIndexOf("/")+1,c[d].researchinfrastructure.lastIndexOf(".jpg")-c[d].researchinfrastructure.lastIndexOf("/")-1)+"</td><td>"+c[d].applicationthemes+"</td><td>"+c[d].keywords+"</td><td>"+c[d].homepartnerinstitution+"</td>")}})})}}});
//# sourceMappingURL=table_manager.min.js.map
